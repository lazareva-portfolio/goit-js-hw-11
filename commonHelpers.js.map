{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n// https://pixabay.com/api/29942317-e3405ade5aa33d4d063a2fbeb\n\n\nconst inputSearchImages = document.querySelector('.input-search');\nconst formSearchImages = document.getElementById('search-form');\nconst gallery = document.getElementById('gallery');\nlet lightbox; // Create a SimpleLightbox instance\n\nformSearchImages.addEventListener('submit', function (event) {\n  event.preventDefault();\n  const keyword = inputSearchImages.value.trim();\n\n  if (keyword) {\n    showLoadingSpinner();\n\n    fetch(`https://pixabay.com/api/?key=29942317-e3405ade5aa33d4d063a2fbeb&q=${keyword}&image_type=photo&orientation=horizontal&safesearch=true`)\n      .then((response) => {\n        if (!response.ok) {\n          throw new Error(response.status);\n        }\n        return response.json();\n      })\n      .then((data) => {\n\n        hideLoadingSpinner();\n\n        if (data.hits.length > 0) {\n\n          renderImages(data.hits);\n        } else {\n          iziToast.error({\n            title: 'Error',\n            message: 'Sorry, there are no images matching your search query. Please try again!',\n          });\n        }\n      })\n      .catch((error) => {\n\n        hideLoadingSpinner();\n        console.log(error);\n      });\n  } else {\n    iziToast.error({\n      title: 'Error',\n      message: 'Please enter a search keyword.',\n    });\n  }\n});\n\nfunction showLoadingSpinner() {\n\n  gallery.innerHTML = '<p>Loading images, please wait...</p>';\n}\n\nfunction hideLoadingSpinner() {\n\n  gallery.innerHTML = '';\n}\n\nfunction renderImages(images) {\n\n  const lightboxImages = [];\n\n\n  const imageList = images.map((image) => {\n    lightboxImages.push({\n      src: image.largeImageURL,\n      title: `Likes: ${image.likes}, Views: ${image.views}, Comments: ${image.comments}, Downloads: ${image.downloads}`,\n    });\n    return `<a href=\"${image.largeImageURL}\" data-lightbox=\"gallery\" data-title=\"${image.tags}\">\n              <img src=\"${image.webformatURL}\" alt=\"${image.tags}\">\n              <ul>\n              <li>Likes:<br /> ${image.likes}</li>\n              <li>Views:<br /> ${image.views}</li>\n              <li>Comments:<br /> ${image.comments}</li>\n              <li>Downloads:<br /> ${image.downloads}</li>\n              </ul>\n            </a>`;\n  }).join('');\n\n  gallery.innerHTML = `${imageList}`;\n\nconst lightbox = new SimpleLightbox('a[data-lightbox=\"gallery\"]');\nlightbox.refresh(); \n}\n"],"names":["inputSearchImages","formSearchImages","gallery","event","keyword","showLoadingSpinner","response","data","hideLoadingSpinner","renderImages","iziToast","error","images","lightboxImages","imageList","image","SimpleLightbox"],"mappings":"6vBASA,MAAMA,EAAoB,SAAS,cAAc,eAAe,EAC1DC,EAAmB,SAAS,eAAe,aAAa,EACxDC,EAAU,SAAS,eAAe,SAAS,EAGjDD,EAAiB,iBAAiB,SAAU,SAAUE,EAAO,CAC3DA,EAAM,eAAc,EACpB,MAAMC,EAAUJ,EAAkB,MAAM,KAAI,EAExCI,GACFC,IAEA,MAAM,qEAAqED,CAAO,0DAA0D,EACzI,KAAME,GAAa,CAClB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACxB,CAAO,EACA,KAAMC,GAAS,CAEdC,IAEID,EAAK,KAAK,OAAS,EAErBE,EAAaF,EAAK,IAAI,EAEtBG,EAAS,MAAM,CACb,MAAO,QACP,QAAS,0EACrB,CAAW,CAEX,CAAO,EACA,MAAOC,GAAU,CAEhBH,IACA,QAAQ,IAAIG,CAAK,CACzB,CAAO,GAEHD,EAAS,MAAM,CACb,MAAO,QACP,QAAS,gCACf,CAAK,CAEL,CAAC,EAED,SAASL,GAAqB,CAE5BH,EAAQ,UAAY,uCACtB,CAEA,SAASM,GAAqB,CAE5BN,EAAQ,UAAY,EACtB,CAEA,SAASO,EAAaG,EAAQ,CAE5B,MAAMC,EAAiB,CAAA,EAGjBC,EAAYF,EAAO,IAAKG,IAC5BF,EAAe,KAAK,CAClB,IAAKE,EAAM,cACX,MAAO,UAAUA,EAAM,KAAK,YAAYA,EAAM,KAAK,eAAeA,EAAM,QAAQ,gBAAgBA,EAAM,SAAS,EACrH,CAAK,EACM,YAAYA,EAAM,aAAa,yCAAyCA,EAAM,IAAI;AAAA,0BACnEA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,iCAE/BA,EAAM,KAAK;AAAA,iCACXA,EAAM,KAAK;AAAA,oCACRA,EAAM,QAAQ;AAAA,qCACbA,EAAM,SAAS;AAAA;AAAA,kBAGjD,EAAE,KAAK,EAAE,EAEVb,EAAQ,UAAY,GAAGY,CAAS,GAEjB,IAAIE,EAAe,4BAA4B,EACvD,QAAO,CAChB"}